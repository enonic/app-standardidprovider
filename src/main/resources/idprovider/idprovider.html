<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <meta name="theme-color" content="#ffffff">
    <title class="localise">Enonic XP - Login</title>
    <link rel="apple-touch-icon" href="{{imageUrl}}/favicons/apple-touch-icon-60x60.png" sizes="60x60">
    <link rel="apple-touch-icon" href="{{imageUrl}}/favicons/apple-touch-icon-76x76.png" sizes="76x76">
    <link rel="apple-touch-icon" href="{{imageUrl}}/favicons/apple-touch-icon-120x120.png" sizes="120x120">
    <link rel="apple-touch-icon" href="{{imageUrl}}/favicons/apple-touch-icon-152x152.png" sizes="152x152">
    <link rel="apple-touch-icon" href="{{imageUrl}}/favicons/apple-touch-icon-180x180.png" sizes="180x180">

    <link rel="icon" type="image/png" href="{{imageUrl}}/favicons/android-128x128.png" sizes="128x128">
    <link rel="icon" type="image/png" href="{{imageUrl}}/favicons/android-196x196.png" sizes="196x196">

    <link rel="icon" type="image/png" href="{{imageUrl}}/favicons/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="{{imageUrl}}/favicons/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="{{imageUrl}}/favicons/favicon-48x48.png" sizes="32x32">
    <link rel="icon" type="image/png" href="{{imageUrl}}/favicons/favicon-64x64.png" sizes="32x32">
    <link rel="icon" type="image/png" href="{{imageUrl}}/favicons/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="{{imageUrl}}/favicons/favicon-128x128.png" sizes="32x32">

    <link rel="manifest" href="{{imageUrl}}/favicons/manifest.json">
    <link rel="mask-icon" href="{{imageUrl}}/xp-logo-black.svg" color="#5bbad5">
    <link rel="stylesheet" type="text/css" href="{{assetUrlPrefix}}/styles/_all.css">

    {{{config}}}

    <script type="text/javascript" src="{{assetUrlPrefix}}/js/_all.js"></script>
</head>
<body style="background-color: #53585F;">
<div class="home-main-container">
    <div id="background-image" style="background-image: url(&quot;{{backgroundUrl}}&quot;);"
         class="lazy-image empty"></div>
    <div class="center-panel">
        <img id="enonic-logo" class="enonic-logo" src="{{assetUrlPrefix}}/images/enonic.svg"/>
        {{#adminUserCreation}}
        <div id="welcome-view" class="welcome-view">
            <span id="welcome-text" class="welcome-text">Welcome to Enonic XP</span>
            <a id="create-admin-view-button" class="create-admin-view-button">Create Admin User...</a>
            {{#loginWithoutUser}}
            <a class="login-su-link link">... or login without a user</a>
            {{/loginWithoutUser}}
        </div>
        <form id="creation-view" class="creation-view" hidden>
            <span id="creation-text" class="creation-text">Create Admin User</span>
            <div class="fieldset">
                <label id="email-creation-label" for="email-creation-input">Email</label>
                <input id="email-creation-input" class="input-field" type="email" placeholder="Email">
            </div>
            <div class="fieldset">
                <label id="username-creation-label" for="username-creation-input">Username</label>
                <input id="username-creation-input" class="input-field" type="text" placeholder="Username">
            </div>
            <div class="fieldset">   
                <label id="password-creation-label" for="password-creation-input">Password</label>
                <input id="password-creation-input" class="input-field" type="password" placeholder="Min. 10 characters">
                <div id="invalid-password-message">Password is too short!</div>
            </div>
            <div class="fieldset">
                <label id="password-repeat-label"  for="password-repeat-input">Repeat password</label>
                <input id="password-repeat-input" class="input-field" type="password" placeholder="Repeat password">
            </div>
            <a id="create-admin-button" class="create-admin-button disabled">Create Admin User</a>
            {{#loginWithoutUser}}
            <a class="login-su-link link">... or login without a user</a>
            {{/loginWithoutUser}}
        </form>
        {{/adminUserCreation}}
        {{^adminUserCreation}}
        <form id="login-form" class="login-form">
            <input id="username-input" class="input-field" type="text" placeholder="userid or e-mail">        
            <div class="password-container">
                <input id="password-input" class="input-field password-input" type="password" placeholder="password">
                <button id="login-button" class="xp-admin-common-button login-button" style="display: none;"></button>
            </div>
        </form>
        {{/adminUserCreation}}
        <div id="message-container" class="message-container"></div>
    </div>
</div>

<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function () {
        setTimeout(() =>
                document.getElementById("background-image").classList.remove("empty")
            , 100);
    });
</script>

</body>
</html>
